#lang mir
import "math"
import "io"

// Largest prime number factor of 600851475143

def primefacts(n) = {
  def factors = []
  def d = 2
  while n > 1 {
    while n % d == 0 {
      factors = [d] ++ factors
      n = n \ d
    }
    d = d + 1
    if d*d > n {
      if n > 1 {
        factors = [n] ++ factors
      }
      break
    }
  }
  factors
}

primefacts(600851475143)[0]
